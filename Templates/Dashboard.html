
<html>
<title>Humidity Analysis</title>
<head>
    <script src="{{ url_for('static', filename='js/Chart_Scripts.js') }}"></script>
    <!-- Include Chart.js library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- bootstrap stuff -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='product.css') }}">


    <script>
        const element1 = document.querySelectorAll('[id^="chart"]');
        const element2 = document.querySelectorAll('[id=lineName]');
        const myTimeout = setTimeout(sendLineIN, 1500);

        function sendLineIN() {
            for (let i = 0; i < element1.length; i++) {
                var graphName = element2[i].value;
                console.log(element2[i].value);
                var graph = element1[i];
                var graphDataURL = graph.toDataURL('image/png');

                $.ajax({
                    url: '/dashboard/download',
                    type: 'POST',
                    data: { 'graphBase64' : graphDataURL,
                            'graphName' : graphName
                    },
                    error: function(error) {
                        console.log(error)
                    },
                    success: function() {
                        console.log("okay")
                    },
                });
            }
        }
    </script>

</head>
<header class="site-header sticky-top py-1">
<!--NavBar-->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="#" aria-label="Product"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="d-block mx-auto" role="img" viewBox="0 0 24 24"><title>Product</title><circle cx="12" cy="12" r="10"/><path d="M14.31 8l5.74 9.94M9.69 8h11.48M7.38 12l5.74-9.94M9.69 16L3.95 6.06M14.31 16H2.83m13.79-4l-5.74 9.94"/></svg></a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
    <div class="navbar-nav">
      <a class="navbar-brand" href="#">Main</a>
      <a class="navbar-brand" href="#">Prediction</a>
    </div>
  </div>
  </nav>
  <nav class="navbar navbar-expand-lg navbar-light bg-dark">
  </nav>
</header>

<main>
  <!--Banner-->
  <div class="position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center" style="background-image: url('Static/images/antonio-dicaterina-GrkY1WJLj94-unsplash.jpg'); background-size: cover; background-repeat: no-repeat; background-position: center;">
      <div class="col-md-5 p-lg-5 mx-auto my-5">
          <h1 class="display-2 fw-normal text-white">Humidity Prediction Analysis</h1>
          <p class="lead fw-normal text-white">A tool used to scrape useful data for effective humidity management</p>
      </div>
  </div>



  <!--Charts Section 1-->
  <div class="d-md-flex flex-md-equal w-100 my-md-3 ps-md-3">
    <div class="bg-dark me-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center text-white overflow-hidden">
      <div class="my-3 py-3">
        <h2 class="display-5">North Region Weather Data</h2>
        <p class="lead">And an even wittier subheading.</p>
      </div>
      <!--Charting-->
      <div class="bg-light shadow-sm mx-auto" style="width: 90%; height: 500px; border-radius: 21px 21px 0 0;">
          <div id="regionNorth" onload="console.log('done')">
              <canvas id="chartNorthJune" style="height:100vh; width:80vw"></canvas>
              <!--Generating Chart into backend server-->
              <input type="hidden" id="lineName" name="graphName" value="northJuneWeatherData">
              <!--Download Chart to local user-->
              <button type="submit" form="downloadLine" >Download</button>
              <form id="downloadLine" action="/dashboard/northJuneWeatherData.png"></form></br></br>
          </div>
      </div>
    </div>


    <div class="bg-light me-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden">
      <div class="my-3 p-3">
        <h2 class="display-5">Another headline</h2>
        <p class="lead">And an even wittier subheading.</p>
      </div>
      <div class="bg-dark shadow-sm mx-auto" style="width: 80%; height: 300px; border-radius: 21px 21px 0 0;"></div>
    </div>
  </div>

  <!--Charts Section 2-->
  <div class="d-md-flex flex-md-equal w-100 my-md-3 ps-md-3">
    <div class="bg-light me-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden">
      <div class="my-3 p-3">
        <h2 class="display-5">Section 2</h2>
        <p class="lead">And an even wittier subheading.</p>
      </div>
      <div class="bg-dark shadow-sm mx-auto" style="width: 80%; height: 300px; border-radius: 21px 21px 0 0;"></div>
    </div>
    <div class="bg-primary me-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center text-white overflow-hidden">
      <div class="my-3 py-3">
        <h2 class="display-5">Another headline</h2>
        <p class="lead">And an even wittier subheading.</p>
      </div>
      <div class="bg-light shadow-sm mx-auto" style="width: 80%; height: 300px; border-radius: 21px 21px 0 0;"></div>
    </div>
  </div>
  <!--Charts Section 3-->
  <div class="d-md-flex flex-md-equal w-100 my-md-3 ps-md-3">
    <div class="bg-light me-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden">
      <div class="my-3 p-3">
        <h2 class="display-5">Another headline</h2>
        <p class="lead">And an even wittier subheading.</p>
      </div>
      <div class="bg-body shadow-sm mx-auto" style="width: 80%; height: 300px; border-radius: 21px 21px 0 0;"></div>
    </div>
    <div class="bg-light me-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden">
      <div class="my-3 py-3">
        <h2 class="display-5">Another headline</h2>
        <p class="lead">And an even wittier subheading.</p>
      </div>
      <div class="bg-body shadow-sm mx-auto" style="width: 80%; height: 300px; border-radius: 21px 21px 0 0;"></div>
    </div>
  </div>
  <!--Charts Section 4-->
  <div class="d-md-flex flex-md-equal w-100 my-md-3 ps-md-3">
    <div class="bg-light me-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden">
      <div class="my-3 p-3">
        <h2 class="display-5">Another headline</h2>
        <p class="lead">And an even wittier subheading.</p>
      </div>
      <div class="bg-body shadow-sm mx-auto" style="width: 80%; height: 300px; border-radius: 21px 21px 0 0;"></div>
    </div>
    <div class="bg-light me-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden">
      <div class="my-3 py-3">
        <h2 class="display-5">Another headline</h2>
        <p class="lead">And an even wittier subheading.</p>
      </div>
      <div class="bg-body shadow-sm mx-auto" style="width: 80%; height: 300px; border-radius: 21px 21px 0 0;"></div>
    </div>
  </div>


  <script>
    //Using the data parsed from the controller side app.py to generate charts

    createLineChart({{ lineTitleNorth|tojson|safe }}, {{ lineValueNorth|tojson|safe }}, {{ lineLabelNorth|tojson|safe }}, {{ canvasNorth|tojson|safe }})
    createLineChart({{ lineTitleSouth|tojson|safe }}, {{ lineValueSouth|tojson|safe }}, {{ lineLabelSouth|tojson|safe }}, {{ canvasSouth|tojson|safe }})
    createLineChart({{ lineTitleCentral|tojson|safe }}, {{ lineValueCentral|tojson|safe }}, {{ lineLabelCentral|tojson|safe }}, {{ canvasCentral|tojson|safe }})
    createLineChart({{ lineTitleEast|tojson|safe }}, {{ lineValueEast|tojson|safe }}, {{ lineLabelEast|tojson|safe }}, {{ canvasEast|tojson|safe }})
    createLineChart({{ lineTitleWest|tojson|safe }}, {{ lineValueWest|tojson|safe }}, {{ lineLabelWest|tojson|safe }}, {{ canvasWest|tojson|safe }})
    console.log("line")

  </script>
  <script>
        const element1 = document.querySelectorAll('[id^="chart"]');
        const element2 = document.querySelectorAll('[id=lineName]');
        const myTimeout = setTimeout(sendLineIN, 1500);

        function sendLineIN() {
            for (let i = 0; i < element1.length; i++) {
                var graphName = element2[i].value;
                console.log(element2[i].value);
                var graph = element1[i];
                var graphDataURL = graph.toDataURL('image/png');

                $.ajax({
                    url: '/dashboard/download',
                    type: 'POST',
                    data: { 'graphBase64' : graphDataURL,
                            'graphName' : graphName
                    },
                    error: function(error) {
                        console.log(error)
                    },
                    success: function() {
                        console.log("okay")
                    },
                });
            }
        }
    </script>


</main>


<!--Footer-->
<footer class="container py-5">
  <div class="row">
  </div>
</footer>

</html>
