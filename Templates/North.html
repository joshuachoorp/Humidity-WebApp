
<html>
<title>North Region</title>
<head>
    <script src="{{ url_for('static', filename='js/Chart_Scripts.js') }}"></script>
    <!-- Include Chart.js library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- bootstrap stuff -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='product.css') }}">

</head>
<header class="site-header sticky-top py-1">
<!--NavBar-->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="#" aria-label="Product"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="d-block mx-auto" role="img" viewBox="0 0 24 24"><title>Product</title><circle cx="12" cy="12" r="10"/><path d="M14.31 8l5.74 9.94M9.69 8h11.48M7.38 12l5.74-9.94M9.69 16L3.95 6.06M14.31 16H2.83m13.79-4l-5.74 9.94"/></svg></a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
    <div class="navbar-nav">
      <a class="navbar-brand" href="/Home">Main</a>
      <a class="navbar-brand" href="#">Prediction</a>
    </div>
  </div>
  </nav>
  <nav class="navbar navbar-expand-lg navbar-light bg-dark">
  </nav>
</header>

<main>
  <!--Banner-->
  <div class="position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center" style="background-image: url('Static/images/North.jpg'); background-size: cover; background-repeat: no-repeat; background-position: center;">
      <div class="col-md-6 p-lg-5 mx-auto my-5">
          <h1 class="display-2 fw-normal text-white">North Region Humidity Analysis</h1>
      </div>
  </div>



  <!--Charts Section 1-->
  <div class="d-md-flex flex-md-equal w-100 my-md-3 ps-md-3">
    <div class="bg-dark me-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center text-white overflow-hidden">
      <div class="my-3 py-3">
        <h2 class="display-5">North Region June Humidity Data</h2>
        <table class="text-white">
          <script>
            printDataHumi(0, {{ northDisplayValue|tojson|safe }}, {{ northDisplayLabel|tojson|safe }})
          </script>
        </table>
      </br>
        <table class="text-white">
          <script>
            printDataTemp(0, {{ northDisplayValue|tojson|safe }}, {{ northDisplayLabel|tojson|safe }})
          </script>
        </table>
      </div>
      <!--Charting 1-->
      <div class="bg-light shadow-sm mx-auto" style="width: 80%; height: 400px; border-radius: 20px 20px 0 0;">
          <div id="regionNorth" onload="console.log('done')">
              <canvas id="chart_North_06-23" style="height:100vh; width:80vw"></canvas>
              <!--Generating Chart into backend server-->
              <input type="hidden" id="lineName" name="graphName" value="northJuneWeatherData">
              <!--Download Chart to local user-->
              <button type="submit" form="downloadLine" >Download</button>
              <form id="downloadLine" action="/dashboard/northJuneWeatherData.png"></form></br></br>
          </div>
      </div>
    </div>

    <!--Charting 2-->
    <div class="bg-dark me-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center text-white overflow-hidden">
      <div class="my-3 py-3">
        <h2 class="display-5">North Region July Humidity Data</h2>

        <table class="text-white">
          <script>
            printDataHumi(1, {{ northDisplayValue|tojson|safe }}, {{ northDisplayLabel|tojson|safe }})
          </script>
        </table>
      </br>
        <table class="text-white">
          <script>
            printDataTemp(1, {{ northDisplayValue|tojson|safe }}, {{ northDisplayLabel|tojson|safe }})
          </script>
        </table>

      </div>
      <!--Charting-->
      <div class="bg-light shadow-sm mx-auto" style="width: 80%; height: 400px; border-radius: 20px 20px 0 0;">
          <div id="regionNorth" onload="console.log('done')">
              <canvas id="chart_North_07-23" style="height:100vh; width:80vw"></canvas>
            <!--Generating Chart into backend server-->
            <input type="hidden" id="lineName" name="graphName" value="northJulyWeatherData">
            <!--Download Chart to local user-->
            <button type="submit" form="downloadLine" >Download</button>
            <form id="downloadLine" action="/dashboard/northJulyWeatherData.png"></form></br></br>
          </div>
      </div>
    </div>
  </div>


  <!--Charts Section 2-->
  <div class="d-md-flex flex-md-equal w-100 my-md-3 ps-md-3">
    <div class="bg-dark me-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center text-white overflow-hidden">
      <div class="my-3 py-3">
        <h2 class="display-5">North Region August Humidity Data</h2>
        <table class="text-white">
          <script>
            printDataHumi(2, {{ northDisplayValue|tojson|safe }}, {{ northDisplayLabel|tojson|safe }})
          </script>
        </table>
      </br>
        <table class="text-white">
          <script>
            printDataTemp(2, {{ northDisplayValue|tojson|safe }}, {{ northDisplayLabel|tojson|safe }})
          </script>
        </table>
      </div>
      
      
      <!--Charting 1-->
      <div class="bg-light shadow-sm mx-auto" style="width: 80%; height: 400px; border-radius: 20px 20px 0 0;">
          <div id="regionNorth" onload="console.log('done')">
              <canvas id="chart_North_08-23" style="height:100vh; width:80vw"></canvas>
              <!--Generating Chart into backend server-->
              <input type="hidden" id="lineName" name="graphName" value="northAugWeatherData">
              <!--Download Chart to local user-->
              <button type="submit" form="downloadLine" >Download</button>
              <form id="downloadLine" action="/dashboard/northAugWeatherData.png"></form></br></br>
          </div>
      </div>
    </div>

    <!--Charting 2-->
    <div class="bg-dark me-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center text-white overflow-hidden">
      <div class="my-3 py-3">
        <h2 class="display-5"></h2>
        <p></p>
      </div>
      <!--Charting-->
      <div class="bg-light shadow-sm mx-auto" style="width: 90%; height: 500px; border-radius: 21px 21px 0 0;">

      </div>
    </div>
  </div>


  <script>
    //Using the data parsed from the controller side app.py to generate charts

    createLineChart({{ lineLabelNorth|tojson|safe }}, {{ lineValueNorthHumi|tojson|safe }}, {{ lineValueNorthTemp|tojson|safe }}, {{ canvasNorth|tojson|safe }})
    

  </script>
  <script>
        const canvasName = document.querySelectorAll('[id^="chart"]');
        const lineName = document.querySelectorAll('[id=lineName]');
        const myTimeout = setTimeout(sendLineIN, 1500);

        function sendLineIN() {
            for (let i = 0; i < canvasName.length; i++) {
                var graphName = lineName[i].value;
                var graph = canvasName[i];
                var graphDataURL = graph.toDataURL('image/png');

                $.ajax({
                    url: '/dashboard/download',
                    type: 'POST',
                    data: { 'graphBase64' : graphDataURL,
                            'graphName' : graphName
                    },
                    error: function(error) {
                        console.log(error)
                    },
                    success: function() {
                        console.log("okay")
                    },
                });
            }
        }
    </script>


</main>


<!--Footer-->
<footer class="container py-5">
  <div class="row">
  </div>
</footer>

</html>
